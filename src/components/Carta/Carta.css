.carta {
  width: 100px;
  height: 150px;
  position: absolute;
  left: calc(50% - 50px);
  top: 0;
  border-radius: 8px;
  transform-style: preserve-3d;
  transition: all 0.6s cubic-bezier(0.18, 0.89, 0.32, 1.28);
  transform: translateY(var(--posY-final, 0));
}

.carta.small {
  width: 70px;
  height: 105px;
  position: relative;
  left: auto;
  top: auto;
  transform: none !important;
  margin: 2px;
}

.carta.volteada {
  transform: translateY(var(--posY-final, 0)) rotateY(180deg);
}

.cara-delantera, .cara-trasera {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 6px;
  border: 2px solid #000;
  box-sizing: border-box;
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.cara-delantera img, .cara-trasera img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 4px;
  display: block;
}

/* Animaciones */
.separar-mitad-izquierda {
  animation: separar-izquierda 0.8s forwards;
}

.separar-mitad-derecha {
  animation: separar-derecha 0.8s forwards;
}

.animacion-intercalar {
  animation: intercalar 0.6s cubic-bezier(0.18, 0.89, 0.32, 1.28) forwards;
}

@keyframes separar-izquierda {
  to { transform: translateX(-90px) rotateZ(-10deg) translateY(var(--posY-inicial)); }
}

@keyframes separar-derecha {
  to { transform: translateX(90px) rotateZ(10deg) translateY(var(--posY-inicial)); }
}

@keyframes intercalar {
  0% { transform: translateX(var(--posX-final)) rotateZ(var(--rot-final)) translateY(var(--posY-inicial)); }
  40% { transform: translateX(0) rotateZ(0) translateY(-50px); }
  70% { transform: translateX(0) rotateZ(0) translateY(-30px); }
  100% { transform: translateX(0) rotateZ(0) translateY(var(--posY-final)); }
}